{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/components/ProductsChart.tsx"],"sourcesContent":["import { AreaChart, CartesianGrid, ResponsiveContainer } from \"recharts\";\r\n\r\ninterface ChartData {\r\n    week: string;\r\n    products: number;\r\n}\r\n\r\nexport default function ProductsChart({ data }: { data : ChartData[] }) {\r\n    return(\r\n        <div className=\"h-48 w-full\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <AreaChart data={data} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n                </AreaChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;;;AAOe,SAAS,cAAc,EAAE,IAAI,EAA0B;IAClE,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC,0LAAmB;YAAC,OAAM;YAAO,QAAO;sBACrC,cAAA,8OAAC,kKAAS;gBAAC,MAAM;gBAAM,QAAQ;oBAAE,KAAK;oBAAG,OAAO;oBAAI,MAAM;oBAAI,QAAQ;gBAAE;0BACpE,cAAA,8OAAC,8KAAa;oBAAC,iBAAgB;oBAAM,QAAO;;;;;;;;;;;;;;;;;;;;;AAKhE","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/components/Sidebar.tsx"],"sourcesContent":["import { UserButton } from \"@stackframe/stack\";\r\nimport { BarChart3, Package, Plus, Settings } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function Sidebar( {currentPath = \"/dashboard\"} : { currentPath : string; } ) {\r\n    \r\n    const navigation =[\r\n        {name: \"Dashboard\", href: \"/dashboard\", icon: BarChart3},\r\n        {name: \"Inventory\", href: \"/inventory\", icon: Package},\r\n        {name: \"Add Product\", href: \"/add-product\", icon: Plus},\r\n        {name: \"Settings\", href: \"/settings\", icon: Settings},\r\n    ]; \r\n    \r\n    return(\r\n        <div className=\"fixed left-0 top-0 bg-gray-900 text-white w-64 min-h-screen p-6 z-10\">\r\n            <div className=\"mb-8\">\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                    <BarChart3 className=\"w-10 h-10\"/>\r\n                    <span className=\"text-lg font-semibold\">Inventory System</span>\r\n                </div>\r\n            </div>\r\n\r\n            <nav className=\"space-y-1\">\r\n                <div className=\"text-sm font-semibold text-gray-400 uppercase\">\r\n                    Inventory\r\n                </div>\r\n                {navigation.map((item,key)=> {\r\n                    const IconComponent = item.icon;\r\n                    const isActive = currentPath === item.href;\r\n                    \r\n                    return(\r\n                    <Link href={item.href} key={key} className={`flex items-center space-x-3 py-2 rounded-lg ${isActive ? 'bg-gray-800 text-white p-2' : 'text-gray-400 hover:bg-gray-800 hover:text-white p-2'}`}>\r\n                        <IconComponent className=\"w-5 h-5\"/>\r\n                        <span className=\"text-sm\">{item.name}</span>\r\n                    </Link>\r\n                    \r\n                )})}\r\n            </nav>\r\n\r\n            <div className=\"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-800\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <UserButton showUserInfo/>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;AAEe,SAAS,QAAS,EAAC,cAAc,YAAY,EAA6B;IAErF,MAAM,aAAY;QACd;YAAC,MAAM;YAAa,MAAM;YAAc,MAAM,+NAAS;QAAA;QACvD;YAAC,MAAM;YAAa,MAAM;YAAc,MAAM,mNAAO;QAAA;QACrD;YAAC,MAAM;YAAe,MAAM;YAAgB,MAAM,0MAAI;QAAA;QACtD;YAAC,MAAM;YAAY,MAAM;YAAa,MAAM,sNAAQ;QAAA;KACvD;IAED,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,+NAAS;4BAAC,WAAU;;;;;;sCACrB,8OAAC;4BAAK,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAIhD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCAAgD;;;;;;oBAG9D,WAAW,GAAG,CAAC,CAAC,MAAK;wBAClB,MAAM,gBAAgB,KAAK,IAAI;wBAC/B,MAAM,WAAW,gBAAgB,KAAK,IAAI;wBAE1C,qBACA,8OAAC,uKAAI;4BAAC,MAAM,KAAK,IAAI;4BAAY,WAAW,CAAC,4CAA4C,EAAE,WAAW,+BAA+B,wDAAwD;;8CACzL,8OAAC;oCAAc,WAAU;;;;;;8CACzB,8OAAC;oCAAK,WAAU;8CAAW,KAAK,IAAI;;;;;;;2BAFZ;;;;;oBAK/B;;;;;;;0BAGL,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,kMAAU;wBAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;AAM5C","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/stack/server.tsx"],"sourcesContent":["import \"server-only\";\r\n\r\nimport { StackServerApp } from \"@stackframe/stack\";\r\n\r\nexport const stackServerApp = new StackServerApp({\r\n  tokenStore: \"nextjs-cookie\",\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAEO,MAAM,iBAAiB,IAAI,oOAAc,CAAC;IAC/C,YAAY;AACd","debugId":null}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/lib/auth.ts"],"sourcesContent":["import { stackServerApp } from \"@/stack/server\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport async function getCurrentUser() {\r\n    const user = await stackServerApp.getUser();\r\n     if(!user) {\r\n        redirect('/sign-in');\r\n     }\r\n\r\n     return user;\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM,kIAAc,CAAC,OAAO;IACxC,IAAG,CAAC,MAAM;QACP,IAAA,iMAAQ,EAAC;IACZ;IAEA,OAAO;AACZ","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst globalForPrisma = global as unknown as { \r\n    prisma: PrismaClient | undefined \r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AAIC,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Earl/Desktop/inventory-system/app/dashboard/page.tsx"],"sourcesContent":["import ProductsChart from \"@/components/ProductsChart\";\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport { getCurrentUser } from \"@/lib/auth\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { TrendingUp } from \"lucide-react\";\r\n\r\nexport default async function DashboardPage() {\r\n\r\n    const user = await getCurrentUser();\r\n    const userId = user.id;\r\n    const [totalProducts, allProducts, lowStock] = await Promise.all([\r\n        prisma.product.count({ where: { userId }}),\r\n        prisma.product.findMany({ where: { userId }, select: { price: true, quantity: true, createdAt: true }}),\r\n        prisma.product.count({\r\n            where: { \r\n            userId,\r\n            lowStockAt: { not: null }, \r\n            quantity: { lte: 5 }\r\n            }\r\n        }),\r\n    ]);\r\n\r\n    const totalValue = allProducts.reduce((sum, product) => \r\n        sum + Number(product.price) * Number(product.quantity), 0\r\n    );\r\n     \r\n    const now = new Date();\r\n    const weeklyProductsData = [];\r\n\r\n    for (let i = 11; i >= 0; i--) {\r\n        const weekStart = new Date(now);\r\n        weekStart.setDate(now.getDate() - i * 7);\r\n        weekStart.setHours(0, 0, 0, 0);\r\n        \r\n        const weekEnd = new Date(weekStart);\r\n        weekEnd.setDate(weekEnd.getDate() - i + 6);\r\n        weekEnd.setHours(23, 59, 59, 999);\r\n\r\n        const weekLabel = `${String(weekStart.getMonth() + 1).padStart(2, '0')}/${String(weekStart.getDate()).padStart(2, '0')}`;\r\n\r\n        const weekProducts = allProducts.filter((product) => {\r\n            const productDate = new Date(product.createdAt);\r\n            return productDate >= weekStart && productDate <= weekEnd;\r\n        });\r\n\r\n        weeklyProductsData.push({\r\n            week: weekLabel,\r\n            products: weekProducts.length,\r\n        })\r\n    }\r\n\r\n     const recent = await prisma.product.findMany({\r\n        where: { userId },\r\n        orderBy: { createdAt: 'desc' },\r\n        take: 5,\r\n     });\r\n\r\n    return(\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <Sidebar currentPath=\"/dashboard\" />\r\n            <main className=\"ml-64 p-8\">\r\n                {/* Header */}\r\n                <div className=\"mb-8\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboard</h1>\r\n                            <p className=\"text-sm text-gray-500\">Welcome! Here is an overview of your Inventory.</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n               \r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n                     {/* Key Metrics */}\r\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\r\n                        <h2 className=\"text-lg font-semibold text-gray-900 mb-6\">Key Metrics</h2>\r\n                        <div className=\"grid grid-cols-3 gap-6\">\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-3xl font-bold text-gray-900\">{totalProducts}</div>\r\n                                <div className=\"text-sm text-gray-600\">Total Products</div>\r\n                                <div className=\"flex items-center justify-center mt-1\">\r\n                                    <span className=\"text-xs text-green-600\">+ {totalProducts}</span>\r\n                                    <TrendingUp className=\"w-3 h-3 text-green-600 ml-1\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-3xl font-bold text-gray-900\">${Number(totalValue).toFixed(0)}</div>\r\n                                <div className=\"text-sm text-gray-600\">Total Value</div>\r\n                                <div className=\"flex items-center justify-center mt-1\">\r\n                                    <span className=\"text-xs text-green-600\">+ {Number(totalValue).toFixed(0)}</span>\r\n                                    <TrendingUp className=\"w-3 h-3 text-green-600 ml-1\"/>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"text-center\">\r\n                                <div className=\"text-3xl font-bold text-gray-900\">{lowStock}</div>\r\n                                <div className=\"text-sm text-gray-600\">Stocks Remaining</div>\r\n                                <div className=\"flex items-center justify-center mt-1\">\r\n                                    <span className=\"text-xs text-green-600\">+ {lowStock}</span>\r\n                                    <TrendingUp className=\"w-3 h-3 text-green-600 ml-1\"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Inventory Over Time */}\r\n                    <div className=\"bg-white rounded-lg border border-b-gray-200 p-6\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h2>New products per week</h2>\r\n                        </div>\r\n                        <div className=\"h-48\">\r\n                            <ProductsChart data={weeklyProductsData} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n                    {/* Stock Levels */}\r\n                    <div className=\"bg-white rounded-lg border border-b-gray-200 p-6\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h2 className=\"text-lg font-semibold text-gray-900\">Stock Levels</h2>\r\n                        </div>\r\n                        <div className=\"space-y-3\">\r\n                            {recent.map((product, key) => {\r\n                                const stockLevel = product.quantity === 0 ? 0: product.quantity <= (product.lowStockAt || 5) ? 1 : 2;\r\n                                const bgColors = [\"bg-red-600\", \"bg-yellow-400\", \"bg-green-600\"];\r\n                                const textColors = [\"text-red-600\", \"text-yellow-400\", \"text-green-600\"]; \r\n                                return(\r\n                                    <div key={key} className=\"flex items-center justify-between p-3 rounded-lg bg-gray-50\">\r\n                                        <div className=\"flex items-center space-x-3\">\r\n                                            <div className={`w-3 h-3 rounded-full ${bgColors[stockLevel]}`}/>\r\n                                            <span className=\"text-sm font-medium text-gray-900\">{product.name}</span>\r\n                                        </div>\r\n                                        <div className={`text-sm font-medium ${textColors[stockLevel]}`}>{product.quantity} units</div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n        </div>\r\n    )\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}}]
}